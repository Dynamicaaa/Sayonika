<%- include('../../../partials/header', { title: title }) %>
<link rel="stylesheet" href="/css/docs.css">

<!-- Mobile Menu Toggle -->
<button class="docs-mobile-toggle" id="docsMenuToggle">
    <i class="fas fa-bars"></i>
    <span>Menu</span>
</button>

<!-- Documentation Page -->
<div class="docs-page">
    <!-- Main Content -->
    <div class="docs-main">
        <div class="container">
            <div class="docs-layout">
                <!-- Sidebar Navigation -->
                <%- include('../../../partials/docs-sidebar') %>

                <!-- Content Area -->
                <main class="docs-content" id="docsContent">
                    <!-- Authentication Endpoints -->
                    <section class="docs-section" id="auth-endpoints">
                        <h2>Authentication Endpoints</h2>
                        <div class="section-content">
                            <p class="lead">
                                Authentication endpoints handle user registration, login, logout, profile management, and OAuth integration.
                                These endpoints manage JWT tokens, user sessions, and provide comprehensive documentation via GET requests.
                            </p>

                            <div class="docs-notice">
                                <i class="fas fa-info-circle"></i>
                                <strong>Documentation Endpoints:</strong> All POST endpoints have corresponding GET endpoints that provide detailed usage documentation and examples.
                            </div>

                            <!-- API Overview -->
                            <div class="endpoint">
                                <h3 id="auth-overview">
                                    <span class="method get">GET</span>
                                    <code>/api/auth</code>
                                </h3>
                                <p>Get complete authentication API documentation and available endpoints.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Authentication API",
  "version": "1.0.0",
  "endpoints": {
    "GET /check-username": "Check username availability",
    "GET /check-email": "Check email availability",
    "POST /register": "Register new user account",
    "POST /login": "Login with credentials",
    "POST /admin-login": "Admin login with validation",
    "POST /logout": "Logout current user",
    "GET /me": "Get current user info",
    "POST /change-password": "Change password",
    "POST /profile/avatar": "Upload avatar",
    "PUT /email-preferences": "Update email preferences"
  }
}</code></pre>
                                </div>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth"</code></pre>
                                </div>
                            </div>

                            <!-- Username Check -->
                            <div class="endpoint">
                                <h3 id="check-username">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/check-username</code>
                                </h3>
                                <p>Check if a username is available for registration.</p>

                                <h4>Query Parameters</h4>
                                <table class="docs-table">
                                    <thead>
                                        <tr>
                                            <th>Parameter</th>
                                            <th>Type</th>
                                            <th>Required</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>username</code></td>
                                            <td>string</td>
                                            <td>✅ Yes</td>
                                            <td>Username to check (3-50 characters, alphanumeric + underscore/hyphen)</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/check-username?username=newuser"</code></pre>
                                </div>
                            </div>

                            <!-- Email Check -->
                            <div class="endpoint">
                                <h3 id="check-email">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/check-email</code>
                                </h3>
                                <p>Check if an email address is available for registration.</p>

                                <h4>Query Parameters</h4>
                                <table class="docs-table">
                                    <thead>
                                        <tr>
                                            <th>Parameter</th>
                                            <th>Type</th>
                                            <th>Required</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>email</code></td>
                                            <td>string</td>
                                            <td>✅ Yes</td>
                                            <td>Email address to check</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/check-email?email=user@example.com"</code></pre>
                                </div>
                            </div>

                            <!-- Register Documentation -->
                            <div class="endpoint">
                                <h3 id="register-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/register</code>
                                </h3>
                                <p>Get registration endpoint documentation and requirements.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Register endpoint",
  "method": "POST",
  "url": "/api/auth/register",
  "required_fields": ["username", "email", "password"],
  "optional_fields": ["display_name"],
  "description": "Register a new user account",
  "example": {
    "username": "your_username",
    "email": "your@email.com",
    "password": "your_password",
    "display_name": "Your Display Name"
  }
}</code></pre>
                                </div>
                            </div>

                            <!-- Register -->
                            <div class="endpoint">
                                <h3 id="register">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/register</code>
                                </h3>
                                <p>Register a new user account.</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "username": "string",
  "email": "string",
  "password": "string",
  "display_name": "string" // optional
}</code></pre>
                                </div>

                                <h4>Parameters</h4>
                                <table class="docs-table">
                                    <thead>
                                        <tr>
                                            <th>Field</th>
                                            <th>Type</th>
                                            <th>Required</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>username</code></td>
                                            <td>string</td>
                                            <td>✅ Yes</td>
                                            <td>Unique username (3-50 characters, alphanumeric + underscore/hyphen)</td>
                                        </tr>
                                        <tr>
                                            <td><code>email</code></td>
                                            <td>string</td>
                                            <td>✅ Yes</td>
                                            <td>Valid email address</td>
                                        </tr>
                                        <tr>
                                            <td><code>password</code></td>
                                            <td>string</td>
                                            <td>✅ Yes</td>
                                            <td>Password (minimum 6 characters)</td>
                                        </tr>
                                        <tr>
                                            <td><code>display_name</code></td>
                                            <td>string</td>
                                            <td>❌ No</td>
                                            <td>Display name (defaults to username, max 100 characters)</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "newuser",
    "email": "user@example.com",
    "password": "securepassword123",
    "display_name": "New User"
  }'</code></pre>
                                </div>
                            </div>

                            <!-- Login Documentation -->
                            <div class="endpoint">
                                <h3 id="login-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/login</code>
                                </h3>
                                <p>Get login endpoint documentation and requirements.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Login endpoint",
  "method": "POST",
  "url": "/api/auth/login",
  "required_fields": ["username", "password"],
  "optional_fields": ["remember"],
  "description": "Login with username/email and password"
}</code></pre>
                                </div>
                            </div>

                            <!-- Login -->
                            <div class="endpoint">
                                <h3 id="login">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/login</code>
                                </h3>
                                <p>Login with username/email and password to receive a JWT token.</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "username": "string", // username or email
  "password": "string",
  "remember": "boolean" // optional
}</code></pre>
                                </div>

                                <h4>Parameters</h4>
                                <table class="docs-table">
                                    <thead>
                                        <tr>
                                            <th>Field</th>
                                            <th>Type</th>
                                            <th>Required</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>username</code></td>
                                            <td>string</td>
                                            <td>✅ Yes</td>
                                            <td>Username or email address</td>
                                        </tr>
                                        <tr>
                                            <td><code>password</code></td>
                                            <td>string</td>
                                            <td>✅ Yes</td>
                                            <td>User's password</td>
                                        </tr>
                                        <tr>
                                            <td><code>remember</code></td>
                                            <td>boolean</td>
                                            <td>❌ No</td>
                                            <td>Remember login for 30 days (default: 24 hours)</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "user@example.com",
    "password": "securepassword123",
    "remember": true
  }'</code></pre>
                                </div>
                            </div>

                            <!-- Admin Login Documentation -->
                            <div class="endpoint">
                                <h3 id="admin-login-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/admin-login</code>
                                </h3>
                                <p>Get admin login endpoint documentation.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Admin login endpoint",
  "method": "POST",
  "url": "/api/auth/admin-login",
  "required_fields": ["username", "password"],
  "description": "Admin login with enhanced validation - requires admin privileges"
}</code></pre>
                                </div>
                            </div>

                            <!-- Admin Login -->
                            <div class="endpoint">
                                <h3 id="admin-login">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/admin-login</code>
                                </h3>
                                <p>Admin login with enhanced validation - requires admin privileges.</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "username": "string", // username or email
  "password": "string",
  "remember": "boolean" // optional
}</code></pre>
                                </div>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/admin-login" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin@example.com",
    "password": "adminpassword123"
  }'</code></pre>
                                </div>
                            </div>

                            <!-- Logout Documentation -->
                            <div class="endpoint">
                                <h3 id="logout-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/logout</code>
                                </h3>
                                <p>Get logout endpoint documentation.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Logout endpoint",
  "method": "POST",
  "url": "/api/auth/logout",
  "description": "Logout current user and clear authentication tokens"
}</code></pre>
                                </div>
                            </div>

                            <!-- Logout -->
                            <div class="endpoint">
                                <h3 id="logout">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/logout</code>
                                </h3>
                                <p>Logout and clear authentication tokens and cookies.</p>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/logout" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"</code></pre>
                                </div>
                            </div>

                            <!-- Current User -->
                            <div class="endpoint">
                                <h3 id="me">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/me</code>
                                </h3>
                                <p>Get current authenticated user information.</p>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "success": true,
  "data": {
    "user": {
      "id": 123,
      "username": "user",
      "email": "user@example.com",
      "display_name": "User Name",
      "role": "user",
      "avatar_url": "https://example.com/avatars/user.jpg",
      "created_at": "2024-01-15T10:30:00Z",
      "email_verified": true
    }
  }
}</code></pre>
                                </div>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/me" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"</code></pre>
                                </div>
                            </div>

                            <!-- Password Management -->
                            <h3>Password Management</h3>

                            <!-- Forgot Password Documentation -->
                            <div class="endpoint">
                                <h3 id="forgot-password-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/forgot-password</code>
                                </h3>
                                <p>Get forgot password endpoint documentation.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Forgot password endpoint",
  "method": "POST",
  "url": "/api/auth/forgot-password",
  "required_fields": ["email"],
  "description": "Request password reset email"
}</code></pre>
                                </div>
                            </div>

                            <!-- Forgot Password -->
                            <div class="endpoint">
                                <h3 id="forgot-password">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/forgot-password</code>
                                </h3>
                                <p>Request password reset email with reset token.</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "email": "string"
}</code></pre>
                                </div>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/forgot-password" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com"
  }'</code></pre>
                                </div>
                            </div>

                            <!-- Reset Password Documentation -->
                            <div class="endpoint">
                                <h3 id="reset-password-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/reset-password</code>
                                </h3>
                                <p>Get reset password endpoint documentation.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Reset password endpoint",
  "method": "POST",
  "url": "/api/auth/reset-password",
  "required_fields": ["token", "password"],
  "description": "Reset password using token from forgot-password email"
}</code></pre>
                                </div>
                            </div>

                            <!-- Reset Password -->
                            <div class="endpoint">
                                <h3 id="reset-password">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/reset-password</code>
                                </h3>
                                <p>Reset password using token from forgot-password email.</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "token": "string",
  "password": "string"
}</code></pre>
                                </div>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/reset-password" \
  -H "Content-Type: application/json" \
  -d '{
    "token": "reset_token_from_email",
    "password": "newpassword123"
  }'</code></pre>
                                </div>
                            </div>

                            <!-- Change Password Documentation -->
                            <div class="endpoint">
                                <h3 id="change-password-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/change-password</code>
                                </h3>
                                <p>Get change password endpoint documentation.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Change password endpoint",
  "method": "POST",
  "url": "/api/auth/change-password",
  "required_fields": ["currentPassword", "newPassword"],
  "authentication": "Required - must be logged in",
  "description": "Change current user password"
}</code></pre>
                                </div>
                            </div>

                            <!-- Change Password -->
                            <div class="endpoint">
                                <h3 id="change-password">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/change-password</code>
                                </h3>
                                <p>Change current user password (requires authentication).</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "currentPassword": "string",
  "newPassword": "string"
}</code></pre>
                                </div>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/change-password" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "currentPassword": "oldpassword123",
    "newPassword": "newpassword123"
  }'</code></pre>
                                </div>
                            </div>

                            <!-- Profile Management -->
                            <h3>Profile Management</h3>

                            <!-- Update Profile -->
                            <div class="endpoint">
                                <h3 id="update-profile">
                                    <span class="method put">PUT</span>
                                    <code>/api/auth/profile</code>
                                </h3>
                                <p>Update user profile information (requires authentication).</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "display_name": "string", // optional
  "bio": "string", // optional
  "location": "string" // optional
}</code></pre>
                                </div>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X PUT "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/profile" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "display_name": "Updated Name",
    "bio": "Updated bio"
  }'</code></pre>
                                </div>
                            </div>

                            <!-- Upload Avatar Documentation -->
                            <div class="endpoint">
                                <h3 id="upload-avatar-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/upload-avatar</code>
                                </h3>
                                <p>Get avatar upload endpoint documentation (redirects to correct endpoint).</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Upload avatar endpoint",
  "correct_url": "/api/auth/profile/avatar",
  "method": "POST",
  "content_type": "multipart/form-data",
  "field_name": "avatar",
  "max_size": "5MB",
  "supported_formats": ["JPG", "JPEG", "PNG", "GIF", "WebP"]
}</code></pre>
                                </div>
                            </div>

                            <!-- Profile Avatar Documentation -->
                            <div class="endpoint">
                                <h3 id="profile-avatar-info">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/profile/avatar</code>
                                </h3>
                                <p>Get profile avatar endpoint documentation.</p>

                                <h4>Response</h4>
                                <div class="code-block">
                                    <pre><code>{
  "message": "Profile avatar endpoint",
  "methods": {
    "POST": "Upload new avatar",
    "DELETE": "Remove current avatar"
  },
  "upload_info": {
    "content_type": "multipart/form-data",
    "field_name": "avatar",
    "max_size": "5MB",
    "supported_formats": ["JPG", "JPEG", "PNG", "GIF", "WebP"]
  }
}</code></pre>
                                </div>
                            </div>

                            <!-- Upload Avatar -->
                            <div class="endpoint">
                                <h3 id="upload-avatar">
                                    <span class="method post">POST</span>
                                    <code>/api/auth/profile/avatar</code>
                                </h3>
                                <p>Upload user avatar image (requires authentication).</p>

                                <h4>Request Body</h4>
                                <p>Multipart form data with avatar file in 'avatar' field.</p>

                                <h4>File Requirements</h4>
                                <ul>
                                    <li>Maximum size: 5MB</li>
                                    <li>Supported formats: JPG, JPEG, PNG, GIF, WebP</li>
                                    <li>Field name: 'avatar'</li>
                                </ul>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X POST "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/profile/avatar" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -F "avatar=@/path/to/avatar.jpg"</code></pre>
                                </div>
                            </div>

                            <!-- Remove Avatar -->
                            <div class="endpoint">
                                <h3 id="remove-avatar">
                                    <span class="method delete">DELETE</span>
                                    <code>/api/auth/profile/avatar</code>
                                </h3>
                                <p>Remove user avatar and revert to default (requires authentication).</p>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X DELETE "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/profile/avatar" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"</code></pre>
                                </div>
                            </div>

                            <!-- Email Preferences -->
                            <div class="endpoint">
                                <h3 id="email-preferences">
                                    <span class="method get">GET</span>
                                    <code>/api/auth/email-preferences</code>
                                </h3>
                                <p>Get current user email preferences (requires authentication).</p>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/email-preferences" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"</code></pre>
                                </div>
                            </div>

                            <!-- Update Email Preferences -->
                            <div class="endpoint">
                                <h3 id="update-email-preferences">
                                    <span class="method put">PUT</span>
                                    <code>/api/auth/email-preferences</code>
                                </h3>
                                <p>Update user email notification preferences (requires authentication).</p>

                                <h4>Request Body</h4>
                                <div class="code-block">
                                    <pre><code>{
  "email_notifications_enabled": "boolean",
  "comment_notifications": "boolean",
  "mod_update_notifications": "boolean"
}</code></pre>
                                </div>

                                <h4>Authentication</h4>
                                <p>Requires valid JWT token in Authorization header or cookies.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code>curl -X PUT "<%- process.env.BASE_URL || 'http://localhost:3000' %>/api/auth/email-preferences" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "email_notifications_enabled": true,
    "comment_notifications": false
  }'</code></pre>
                                </div>
                            </div>

                            <!-- OAuth Endpoints -->
                            <h3>OAuth Endpoints</h3>
                            <p class="docs-notice">
                                <i class="fas fa-info-circle"></i>
                                <strong>Note:</strong> OAuth endpoints are available at <code>/auth</code> (not <code>/api/auth</code>). 
                                See <a href="/docs/features/oauth">OAuth Documentation</a> for complete details.
                            </p>

                            <div class="endpoint">
                                <h3 id="oauth-github">
                                    <span class="method get">GET</span>
                                    <code>/auth/github</code>
                                </h3>
                                <p>Initiate GitHub OAuth authentication flow.</p>

                                <h4>Query Parameters</h4>
                                <table class="docs-table">
                                    <thead>
                                        <tr>
                                            <th>Parameter</th>
                                            <th>Type</th>
                                            <th>Required</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>link</code></td>
                                            <td>boolean</td>
                                            <td>❌ No</td>
                                            <td>Set to 'true' for account linking</td>
                                        </tr>
                                        <tr>
                                            <td><code>remember</code></td>
                                            <td>boolean</td>
                                            <td>❌ No</td>
                                            <td>Remember login for 30 days</td>
                                        </tr>
                                        <tr>
                                            <td><code>admin</code></td>
                                            <td>boolean</td>
                                            <td>❌ No</td>
                                            <td>Admin login mode</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code># Direct browser to this URL
<%- process.env.BASE_URL || 'http://localhost:3000' %>/auth/github?remember=true</code></pre>
                                </div>
                            </div>

                            <div class="endpoint">
                                <h3 id="oauth-discord">
                                    <span class="method get">GET</span>
                                    <code>/auth/discord</code>
                                </h3>
                                <p>Initiate Discord OAuth authentication flow.</p>

                                <h4>Query Parameters</h4>
                                <p>Same as GitHub OAuth endpoint above.</p>

                                <h4>Example</h4>
                                <div class="code-block">
                                    <pre><code># Direct browser to this URL
<%- process.env.BASE_URL || 'http://localhost:3000' %>/auth/discord?remember=true</code></pre>
                                </div>
                            </div>

                            <!-- Error Responses -->
                            <h3>Common Error Responses</h3>

                            <h4>Invalid Credentials (401)</h4>
                            <div class="code-block">
                                <pre><code>{
  "success": false,
  "error": "Invalid username or password"
}</code></pre>
                            </div>

                            <h4>User Already Exists (409)</h4>
                            <div class="code-block">
                                <pre><code>{
  "success": false,
  "error": "User with this username or email already exists"
}</code></pre>
                            </div>

                            <h4>Validation Error (400)</h4>
                            <div class="code-block">
                                <pre><code>{
  "success": false,
  "errors": [
    {
      "type": "field",
      "value": "invalid@",
      "msg": "Valid email is required",
      "path": "email",
      "location": "body"
    }
  ]
}</code></pre>
                            </div>

                            <!-- Next Steps -->
                            <div class="next-steps">
                                <h3>Next Steps</h3>
                                <div class="link-grid">
                                    <a href="/docs/api/endpoints/mods" class="quick-link">
                                        <i class="fas fa-puzzle-piece"></i>
                                        <div>
                                            <h4>Mod Endpoints</h4>
                                            <p>Browse and manage mods</p>
                                        </div>
                                    </a>

                                    <a href="/docs/api/endpoints/users" class="quick-link">
                                        <i class="fas fa-users"></i>
                                        <div>
                                            <h4>User Endpoints</h4>
                                            <p>Manage user profiles</p>
                                        </div>
                                    </a>

                                    <a href="/docs/features/oauth" class="quick-link">
                                        <i class="fab fa-github"></i>
                                        <div>
                                            <h4>OAuth Integration</h4>
                                            <p>GitHub and Discord OAuth</p>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </div>
</div>

<!-- Sidebar Overlay for Mobile -->
<div class="docs-sidebar-overlay" id="sidebarOverlay"></div>

<script src="/js/docs.js?v=<%= Date.now() %>"></script>
<%- include('../../../partials/footer') %>
